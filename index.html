<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Encyclopaedia Romana</title>
  <style>
    :root {
      --bg: #0b0f14;
      --panel: rgba(15, 20, 30, 0.92);
      --text: #e9edf3;
      --muted: #b9c2d0;
      --accent: #d6b36a;
      --stroke: rgba(214, 179, 106, 0.9);
      --hover: rgba(214, 179, 106, 0.22);
      --shadow: 0 20px 60px rgba(0,0,0,.45);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, #172033 0%, var(--bg) 55%);
      color: var(--text);
    }
    header {
      padding: 28px 18px 10px;
      max-width: 1100px;
      margin: 0 auto;
    }
    h1 { margin: 0; font-weight: 800; letter-spacing: 0.3px; }
    p.lede { margin: 10px 0 0; color: var(--muted); max-width: 70ch; line-height: 1.5; }

    .wrap {
      max-width: 1200px;
      margin: 16px auto 48px;
      padding: 0 14px;
    }

    .map-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    /* Keep map responsive while preserving aspect ratio */
    .map-stage {
      position: relative;
      width: 100%;
      aspect-ratio: 1600 / 1066; /* your image dimensions */
      background: #0c1018;
    }
    .map-stage svg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
    }

    .hintbar {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      background: rgba(0,0,0,0.25);
      border-top: 1px solid rgba(255,255,255,0.08);
      color: var(--muted);
      font-size: 14px;
    }
    .pill {
      border: 1px solid rgba(214,179,106,0.35);
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      letter-spacing: 0.25px;
      white-space: nowrap;
    }

    /* Province regions */
    .province {
      fill: transparent;
      stroke: var(--stroke);
      stroke-width: 2;
      vector-effect: non-scaling-stroke;
      cursor: pointer;
      transition: fill 140ms ease, opacity 140ms ease;
      opacity: 0.95;
    }
    .province { fill: rgba(0,0,0,0); }
    .province:hover { fill: rgba(214,179,106,0.22); }
    .province:hover { fill: var(--hover); }
    .province { pointer-events: all; }
    .province { stroke-width: 2; }
    .province:hover { stroke-width: 3; }

    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 16px;
      z-index: 50;
    }
    .modal {
      width: min(720px, 100%);
      background: var(--panel);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .modal header {
      padding: 16px 16px 10px;
      margin: 0;
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }
    .modal h2 { margin: 0; font-size: 20px; }
    .modal .content {
      padding: 12px 16px 16px;
      color: var(--muted);
      line-height: 1.6;
    }
    .modal .actions {
      display: flex;
      gap: 10px;
      padding: 14px 16px 16px;
      border-top: 1px solid rgba(255,255,255,0.10);
      justify-content: flex-end;
      flex-wrap: wrap;
    }
    .btn {
      appearance: none;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      text-decoration: none;
      font-weight: 600;
    }
    .btn:hover { background: rgba(255,255,255,0.10); }
    .btn.primary {
      border-color: rgba(214,179,106,0.55);
      background: rgba(214,179,106,0.12);
      color: var(--text);
    }
    .btn.primary:hover { background: rgba(214,179,106,0.20); }
  </style>
</head>
<body>
  <header>
    <h1>Encyclopaedia Romana</h1>
    <p class="lede">
      A personal knowledge archive of the Roman world. Click a province on the map to open a short summary and jump to a detailed page.
    </p>
  </header>

  <div class="wrap">
    <div class="map-card">
      <div class="map-stage" aria-label="Map of the Roman Empire with clickable provinces">
        <!-- SVG overlay on top of your map image -->
        <svg viewBox="0 0 1600 1066" role="img">
          <!-- Your map image (keep it in the same folder as index.html) -->
          <image href="roman_empire_map.webp" x="0" y="0" width="1600" height="1066" />

            <!-- Britannia -->
            <polygon class="province" data-id="britannia"
              points="254,14 263,36 277,42 290,60 288,70 297,79 297,87 302,96 307,110 294,110 301,117 319,110 331,115 336,125 338,138 334,148 325,162 317,172 329,175 328,186 317,197 308,200 300,205 290,203 274,205 264,202 261,212 252,206 243,203 240,213 232,206 219,207 208,210 204,220 195,227 181,220 167,226 158,237 151,231 155,223 158,214 168,206 174,193 182,197 184,183 199,181 192,171 184,173 175,164 164,171 155,164 157,152 167,152 178,144 187,135 185,115 178,118 170,118 181,107 172,97 182,93 194,96 201,96 206,87 213,80 212,67 198,45 198,33" />
            
            <!-- Germania Inferior -->
            <polygon class="province" data-id="germania_inferior"
              points="401,147 424,154 438,148 472,174 457,156 475,192 482,209 492,222 479,235 452,230 428,219 410,202 404,172 392,171 383,163" />
            
            <!-- Belgica -->
            <polygon class="province" data-id="belgica"
              points="382,161 387,174 399,174 407,184 408,197 424,216 438,226 448,230 478,236 486,243 489,262 486,281 476,283 468,298 447,298 438,291 427,293 418,280 377,250 351,250 339,225 331,226 334,199 355,191 367,181" />
            
            <!-- Lugdunensis -->
            <polygon class="province" data-id="lugdunensis"
              points="329,228 340,228 350,253 374,249 394,262 405,273 417,279 426,296 438,296 448,301 431,318 435,329 441,339 450,352 456,363 459,373 448,373 443,380 431,379 424,387 424,403 422,411 412,414 404,403 393,403 394,383 381,366 374,351 367,339 357,331 346,337 337,344 323,354 311,361 292,363 278,366 255,365 244,365 233,355 230,341 227,332 219,332 210,335 210,327 199,322 182,324 172,313 180,310 173,301 169,291 179,286 190,286 203,284 213,281 223,293 233,287 241,287 250,290 250,270 244,260 244,246 259,249 264,256 274,259 284,263 291,263 295,249 308,241 319,237" />
            
            <!-- Aquitania -->
            <polygon class="province" data-id="aquitania"
              points="240,364 254,362 266,365 285,367 301,361 317,354 334,344 343,337 356,331 367,343 382,354 384,367 389,382 393,399 406,408 411,416 408,427 400,433 393,440 384,449 369,451 345,461 329,460 318,471 325,477 335,485 331,495 317,495 304,488 288,491 280,487 267,491 250,484 259,467 257,451 260,433 264,410 259,396 252,388 252,377" />
            
            <!-- Narbonensis -->
            <polygon class="province" data-id="narbonensis"
              points="455,374 447,377 441,382 431,377 423,385 423,399 423,413 410,416 411,429 399,433 392,439 387,446 379,450 365,457 345,461 328,459 317,473 335,484 328,500 338,507 348,508 356,508 367,511 375,495 384,487 399,481 407,484 413,488 421,487 430,488 435,493 445,498 454,498 462,493 469,484 478,480 488,476 486,467 475,469 466,463 457,449 457,434 449,419 458,411 461,400 461,384" />
            
            <!-- Alpes Maritimae -->
            <polygon class="province" data-id="alpes_maritimae"
              points="455,453 464,440 469,446 478,439 481,450 489,456 488,464 478,466 469,467" />
            
            <!-- Alpes Cottiae -->
            <polygon class="province" data-id="alpes_cottiae"
              points="455,448 462,440 468,445 478,440 473,420 483,414 459,400 461,409 452,414 457,426" />
            
            <!-- Alpes Poeninae -->
            <polygon class="province" data-id="alpes_poeninae"
              points="457,403 471,413 482,413 478,386 490,386 500,382 506,373 500,366 483,366 485,358 469,355 466,363 457,365 455,372 461,376 462,387 458,394" />
            
            <!-- Germania Superior -->
            <polygon class="province" data-id="germania_superior"
              points="455,369 462,366 469,353 464,346 486,345 495,329 517,330 516,319 526,316 531,305 531,294 541,287 546,279 540,264 533,248 520,233 514,217 506,206 496,207 489,223 481,233 489,243 489,253 488,267 486,281 478,282 469,299 447,301 435,311 432,325 438,335 444,342 449,350 454,357" />
            
            <!-- Raetia -->
            <polygon class="province" data-id="raetia"
              points="465,349 485,346 492,334 506,327 514,331 514,318 526,317 530,304 534,293 543,280 551,281 571,281 579,284 591,284 599,290 613,286 616,293 630,298 630,311 626,321 616,328 605,331 594,336 591,346 585,370 572,370 560,369 529,372 505,376 503,366 486,369 483,361 472,355" />
            
            <!-- Noricum -->
            <polygon class="province" data-id="noricum"
              points="587,371 594,339 606,330 622,322 630,301 639,306 646,311 656,313 669,322 681,322 693,322 702,318 710,319 719,326 701,343 690,349 680,363 677,376 667,377 660,384 653,376 637,376 628,376 619,373 611,373" />
            
            <!-- Pannonia Superior -->
            <polygon class="province" data-id="pannonia_superior"
              points="637,377 656,377 660,385 667,377 677,376 680,362 690,346 701,344 710,334 717,327 728,327 735,327 743,338 751,344 749,353 741,366 736,376 738,392 729,397 729,406 728,414 729,428 711,414 695,414 674,414 654,413 653,399" />
            
            <!-- Pannonia Inferior -->
            <polygon class="province" data-id="pannonia_inferior"
              points="731,429 726,413 729,396 741,395 735,379 741,371 741,361 749,355 746,337 759,340 766,343 777,338 786,345 784,355 784,365 789,372 783,379 786,388 782,396 786,408 797,409 803,413 816,413 817,429 823,436 813,442 800,439 789,436 780,433 758,434 746,428" />
            
            <!-- Dacia -->
            <polygon class="province" data-id="dacia"
              points="816,417 814,392 851,392 862,382 873,370 876,358 882,349 893,349 902,353 914,346 927,341 939,344 950,348 950,358 958,366 964,370 981,383 974,389 971,403 965,414 948,420 941,430 941,441 941,452 941,464 939,481 930,482 919,479 896,475 888,479 888,465 873,459 881,454 869,443 865,452 854,443 841,443 831,445 825,438 817,435" />
            
            <!-- Moesia Inferior -->
            <polygon class="province" data-id="moesia_inferior"
              points="906,476 914,476 919,483 927,475 931,483 939,480 936,468 940,451 940,432 946,421 955,419 964,415 968,405 971,391 975,381 987,387 994,400 999,410 1009,410 1018,418 1023,410 1037,410 1052,404 1061,401 1071,391 1074,380 1083,367 1094,359 1108,353 1114,361 1122,363 1136,363 1145,364 1149,373 1141,388 1114,380 1108,369 1094,371 1087,384 1076,398 1069,404 1069,421 1060,436 1049,438 1037,452 1035,482 1023,487 1018,496 1016,504 1016,511 1011,517 972,511 964,507 937,507 916,507 905,503 907,489" />
            
            <!-- Italia -->
            <polygon class="province" data-id="italia"
              points="481,390 495,392 506,386 508,378 574,372 588,375 605,375 609,382 615,375 625,378 632,380 639,379 655,405 656,438 648,423 645,414 653,412 640,405 619,414 616,421 623,433 615,443 616,453 625,467 632,468 640,477 648,479 650,491 656,505 659,516 667,523 676,529 681,536 690,539 715,540 714,549 707,552 713,557 722,563 734,569 744,576 752,578 763,585 775,597 773,605 772,612 761,610 761,601 752,595 741,590 727,604 724,615 732,621 741,628 741,642 731,646 727,660 721,666 714,675 701,676 701,663 704,653 711,647 710,637 710,625 701,619 705,605 691,608 681,599 678,588 656,581 653,570 630,568 622,558 611,545 598,540 594,529 582,526 577,512 565,506 563,496 557,483 557,473 546,465 534,459 523,456 513,459 505,471 486,476 487,461 478,448 474,426 484,419 477,403" />
            
            <!-- Corsica et Sardinia (Corsica) -->
            <polygon class="province" data-id="corsica_et_sardinia"
              points="537,498 531,508 519,512 514,526 516,538 520,549 526,556 534,555 537,545 541,531 541,517" />
            <!-- Corsica et Sardinia (Sardinia) -->
            <polygon class="province" data-id="corsica_et_sardinia"
              points="534,559 519,574 506,569 503,577 509,586 514,599 507,606 514,608 512,620 512,628 506,635 513,637 520,641 527,637 531,630 540,634 543,610 543,597 548,587 543,576 541,566" />
            
            <!-- Sicilia -->
            <polygon class="province" data-id="sicilia"
              points="695,659 690,666 678,665 667,671 650,672 639,662 632,668 623,666 616,673 622,685 633,685 642,693 650,700 663,702 670,709 678,713 687,713 688,699 683,690 690,676" />
            
            <!-- Dalmatia -->
            <polygon class="province" data-id="dalmatia"
              points="653,415 707,415 721,421 729,428 746,427 756,432 780,432 789,439 787,455 797,469 807,489 814,510 814,534 803,541 790,537 789,528 776,525 765,514 748,507 725,504 718,493 701,472 690,469 678,458 666,445 666,431 654,436" />
            
            <!-- Moesia Superior -->
            <polygon class="province" data-id="moesia_superior"
              points="786,441 796,439 804,445 814,446 823,438 831,449 841,445 854,442 862,449 869,446 882,451 873,456 885,463 890,470 885,480 895,477 907,477 906,501 902,511 907,523 907,542 882,534 866,534 857,523 845,525 831,531 816,535 814,511 808,500 808,486 800,475 790,462" />
            
            <!-- Thracia -->
            <polygon class="province" data-id="thracia"
              points="905,502 914,507 939,508 957,508 972,511 987,511 1012,515 1018,529 1020,536 1020,543 1029,549 1039,556 1049,560 1046,572 1035,569 1019,572 1009,572 1001,580 979,563 951,556 919,555 905,543 906,529 902,515" />
            
            <!-- Macedonia -->
            <polygon class="province" data-id="macedonia"
              points="799,543 817,535 831,532 837,526 848,526 865,528 873,533 885,533 893,538 906,542 914,553 937,552 963,556 975,560 998,579 975,594 987,582 970,583 958,576 941,573 929,574 919,580 910,579 913,587 926,597 905,606 895,594 882,586 878,599 862,596 849,603 838,591 825,583 796,580 801,562" />
            
            <!-- Epirus -->
            <polygon class="province" data-id="epirus"
              points="794,581 817,581 828,584 841,591 848,601 858,618 861,632 862,657 841,663 838,650 825,650 831,640 824,632 811,623 801,612 811,609 804,602 794,592" />
            
            <!-- Achaia -->
            <polygon class="province" data-id="achaia"
              points="848,601 861,599 871,597 879,600 885,611 900,630 886,627 890,637 899,640 907,647 922,649 930,669 922,669 907,658 919,681 912,676 902,671 890,675 899,685 905,692 892,690 882,688 888,696 890,710 893,720 885,716 876,722 873,713 866,702 858,713 851,703 857,692 842,679 845,664 859,659 862,642 862,620" />
            
            <!-- Asia -->
            <polygon class="province" data-id="asia"
              points="970,619 974,600 989,591 1009,582 1020,585 1026,596 1033,600 1042,607 1059,613 1071,607 1083,598 1091,596 1100,599 1108,602 1117,595 1119,606 1126,612 1126,622 1138,630 1148,641 1148,653 1132,661 1122,660 1102,661 1085,670 1071,678 1074,689 1069,695 1057,698 1046,714 1035,711 1020,715 1006,715 992,711 1001,698 1001,687 984,680 998,673 988,668 977,661 965,664 964,650 972,653 989,650 992,641 987,630 991,620 978,622" />
            
            <!-- Bithynia et Pontus -->
            <polygon class="province" data-id="bithynia_et_pontus"
              points="1022,592 1040,591 1039,581 1052,581 1043,570 1049,563 1060,561 1077,563 1087,563 1097,564 1105,567 1107,558 1119,553 1128,546 1139,539 1155,534 1169,534 1184,534 1201,533 1206,540 1210,547 1227,544 1237,560 1225,563 1211,558 1187,563 1165,564 1142,573 1138,581 1128,585 1121,595 1105,601 1088,595 1080,601 1069,611 1057,612 1037,605" />
            
            <!-- Regnum Bospori -->
            <polygon class="province" data-id="regnum_bospori"
              points="1142,388 1152,371 1167,376 1184,377 1201,367 1218,359 1235,350 1249,345 1262,343 1275,335 1290,335 1309,333 1322,330 1326,342 1326,353 1320,361 1313,376 1310,387 1310,398 1300,411 1290,422 1282,427 1269,439 1258,429 1245,424 1225,427 1216,425 1206,434 1193,438 1183,443 1176,448 1165,446 1162,431 1158,421 1151,415 1139,417 1145,404 1159,393" />
            
            <!-- Tarraconensis -->
            <polygon class="province" data-id="tarraconensis"
              points="250,481 267,491 281,488 291,490 302,490 308,497 329,498 336,504 345,507 359,507 370,507 380,524 376,538 367,546 356,553 348,560 334,563 326,567 314,574 319,580 308,584 298,597 288,615 287,627 290,640 298,642 291,649 284,658 274,666 274,682 263,682 253,688 245,699 228,688 218,690 206,686 196,679 208,668 201,661 191,652 179,651 171,637 163,640 155,624 155,611 148,597 158,586 153,577 153,559 134,555 124,563 120,575 113,573 109,565 90,569 82,570 65,568 65,552 62,538 62,524 55,517 52,504 59,493 76,488 82,481 90,476 102,480 112,484 129,487 139,477 150,484 164,486 175,491 198,484 211,490 220,490 232,493 243,490" />
            
            <!-- Lusitania -->
            <polygon class="province" data-id="lusitania"
              points="65,563 79,569 90,566 110,560 109,569 119,572 119,563 127,562 133,555 153,555 153,569 155,580 148,593 153,607 155,623 161,641 150,642 147,651 137,648 129,651 119,656 109,662 105,672 110,682 109,695 96,697 88,706 76,700 62,702 66,688 62,673 69,659 57,659 55,649 45,645 51,634 48,625 59,624 58,613 61,596 65,580" />
            
            <!-- Baetica -->
            <polygon class="province" data-id="baetica"
              points="105,698 110,687 105,673 107,660 122,658 133,651 146,653 147,644 171,634 178,640 184,647 198,650 201,658 209,667 198,680 205,685 212,691 225,684 232,691 243,699 237,709 229,711 220,715 211,712 194,712 179,712 172,718 158,723 148,735 136,729 131,718 124,705" />

            <!-- Aegyptus -->
            <polygon class="province" data-id="aegyptus"
            points="1153,884 1139,885 1126,881 1114,872 1102,872 1074,878 1060,886 1046,889 1012,881 1008,920 1033,926 1052,935 1054,951 1054,967 1070,973 1078,990 1088,1019 1100,1045 1105,1062 1193,1063 1179,1029 1172,1005 1169,990 1151,974 1143,957 1136,940 1135,923 1145,916" />

          <!-- Add more polygons here -->
        </svg>
      </div>

      <div class="hintbar">
        <div>Tip: hover to see regions, click to open details.</div>
        <div class="pill">117 CE (peak extent)</div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <header>
        <h2 id="modalTitle">Province</h2>
      </header>
      <div class="content" id="modalBody"></div>
      <div class="actions">
        <button class="btn" id="closeBtn" type="button">Close</button>
        <a class="btn primary" id="moreLink" href="#" rel="noopener">More info →</a>
      </div>
    </div>
  </div>

  <script>
    // Province database: edit text + links here
    const PROVINCES = {
      britannia: { name: "Britannia", summary: "...", link: "provinces/britannia.html" },
      germania_inferior: { name: "Germania Inferior", summary: "...", link: "provinces/germania-inferior.html" },
      belgica: { name: "Belgica", summary: "...", link: "provinces/belgica.html" },
      lugdunensis: { name: "Gallia Lugdunensis", summary: "...", link: "provinces/lugdunensis.html" },
      aquitania: { name: "Aquitania", summary: "...", link: "provinces/aquitania.html" },
      narbonensis: { name: "Gallia Narbonensis", summary: "...", link: "provinces/narbonensis.html" },
      alpes_maritimae: { name: "Alpes Maritimae", summary: "...", link: "provinces/alpes-maritimae.html" },
      alpes_cottiae: { name: "Alpes Cottiae", summary: "...", link: "provinces/alpes-cottiae.html" },
      alpes_poeninae: { name: "Alpes Poeninae", summary: "...", link: "provinces/alpes-poeninae.html" },
      germania_superior: { name: "Germania Superior", summary: "...", link: "provinces/germania-superior.html" },
      raetia: { name: "Raetia", summary: "...", link: "provinces/raetia.html" },
      noricum: { name: "Noricum", summary: "...", link: "provinces/noricum.html" },
      pannonia_superior: { name: "Pannonia Superior", summary: "...", link: "provinces/pannonia-superior.html" },
      pannonia_inferior: { name: "Pannonia Inferior", summary: "...", link: "provinces/pannonia-inferior.html" },
      dacia: { name: "Dacia", summary: "...", link: "provinces/dacia.html" },
      moesia_inferior: { name: "Moesia Inferior", summary: "...", link: "provinces/moesia-inferior.html" },
      italia: { name: "Italia", summary: "…", link: "provinces/italia.html" },
      corsica_et_sardinia: { name: "Corsica et Sardinia", summary: "…", link: "provinces/corsica-et-sardinia.html" },
      sicilia: { name: "Sicilia", summary: "…", link: "provinces/sicilia.html" },
      dalmatia: { name: "Dalmatia", summary: "…", link: "provinces/dalmatia.html" },
      moesia_superior: { name: "Moesia Superior", summary: "…", link: "provinces/moesia-superior.html" },
      thracia: { name: "Thracia", summary: "…", link: "provinces/thracia.html" },
      macedonia: { name: "Macedonia", summary: "…", link: "provinces/macedonia.html" },
      epirus: { name: "Epirus", summary: "…", link: "provinces/epirus.html" },
      achaia: { name: "Achaia", summary: "…", link: "provinces/achaia.html" },
      asia: { name: "Asia", summary: "…", link: "provinces/asia.html" },
      bithynia_et_pontus: { name: "Bithynia et Pontus", summary: "…", link: "provinces/bithynia-et-pontus.html" },
      regnum_bospori: { name: "Regnum Bospori", summary: "…", link: "provinces/regnum-bospori.html" },
      tarraconensis: { name: "Tarraconensis", summary: "…", link: "provinces/tarraconensis.html" },
      lusitania: { name: "Lusitania", summary: "…", link: "provinces/lusitania.html" },
      baetica: { name: "Baetica", summary: "…", link: "provinces/baetica.html" },
    };

    const backdrop = document.getElementById("modalBackdrop");
    const titleEl = document.getElementById("modalTitle");
    const bodyEl = document.getElementById("modalBody");
    const moreLink = document.getElementById("moreLink");
    const closeBtn = document.getElementById("closeBtn");

    function openModal(provinceId) {
      const p = PROVINCES[provinceId];
      if (!p) return;

      titleEl.textContent = p.name;
      bodyEl.textContent = p.summary;
      moreLink.href = p.link;

      backdrop.style.display = "flex";
      closeBtn.focus();
    }

    function closeModal() {
      backdrop.style.display = "none";
    }

    // Click handlers for province regions
    document.querySelectorAll(".province").forEach(el => {
      el.addEventListener("click", () => openModal(el.dataset.id));
      el.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") openModal(el.dataset.id);
      });
      // accessibility
      el.setAttribute("tabindex", "0");
      el.setAttribute("role", "button");
      el.setAttribute("aria-label", `Open details for ${el.dataset.id}`);
    });

    // Close modal by clicking backdrop or pressing Escape
    backdrop.addEventListener("click", (e) => {
      if (e.target === backdrop) closeModal();
    });
    closeBtn.addEventListener("click", closeModal);
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && backdrop.style.display === "flex") closeModal();
    });
  </script>
</body>
</html>
